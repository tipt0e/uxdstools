Content-type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of lusermod</TITLE>
<style type="text/css">
  body { color: white; background: black; }
  :link { text-decoration: none; color: #8cff8c; }
  :visited { text-decoration: none; color: #8cff8c; }
  :hover { text-decoration: none; color: green; }
</style>
</HEAD><BODY>
<font face="arial">
<H1>lusermod</H1>
Section: User Commands  (1)<BR>Updated: uxdstools<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<P>
<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

lusermod - Modify POSIX user accounts in LDAP stores
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<DL COMPACT>
<DT>lusermod [-H &lt;host URI&gt;] [-m &lt;SASL mech&gt;] [-u &lt;authcid&gt;]<DD>
<P>
[-D &lt;bind DN&gt;] [[-p &lt;passwd&gt;] [-P]]
<P>
[-U &lt;username&gt; -G &lt;groupname&gt; -f &lt;givenName&gt;]
<P>
[-l &lt;sn&gt; [-S &lt;loginShell&gt;] [-X &lt;homeDirectory&gt;]]
<P>
[-N &lt;uidNumber&gt;]
<P>
</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>


lusermod 
is used to modify a POSIX user account located in an LDAP datastore.  The idea is provide easy access to data that may be modified often.
<P>
SASL authentication support is available if OpenLDAP libraries are linked against Cyrus-SASL and are intact at compile time. This is mostly untested (except GSSAPI) but should be working with any mech the server has available (depending on your local SASL install). Krb5/GSSAPI support is available if Heimdal kerberos libraries are avaliable at compile time. Upon authentication, a kerberos ticket can be obtained and placed in the default or a custom credentials cache, and used for subsequent authentication calls with this or other programs (or any GSSAPI enabled client for that matter) in the uxdstools suite.
<P>
The program takes arguments to fill in neccesary data in order to correctly modify the POSIX user account.
<P>
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT>-D<DD>

DN
<P>
Distinguished name to used to bind to LDAP directory. If no SASL support is intact, this defaults to a simple
bind operation. This can also be used with a be used with a mech (see -m below as an authorization bind ident
ity (authzid).
<DT>-p<DD>

passwd
<P>
Use passwd as password for authentication (Simple or SASL).
<DT>-P<DD>
Prompt for password, used instead of specifying the password on the command line. With GSSAPI support, this in
put will be used to obtain a kerberos tgt.
<DT>-H<DD>

host URI
<P>
LDAP server URI to access, optional as it default to what is in ldap.conf. &quot;ldaps://&quot; and &quot;ldapi://&quot; URIs are
OK, as long as your underlying OpenLDAP libs support this. e.g. &quot;<A HREF="ldap://server.example.com">ldap://server.example.com</A>&quot;
<DT>-m<DD>

mech
<P>
Mechanism used for SASL auth, e.g DIGEST-MD5, GSSAPI.
<DT>-u<DD>

authcid
<P>
SASL auth identity used to gain access to the LDAP directory service. Format depends on the SASL mech being used... With GSSAPI no mech is required, this input will be used as the short principal name to gain a kerberos ticket granting ticket for auth.
<DT>-r<DD>

realm
<P>
Realm for SASL identity, some callbacks need this.  Not really tested at this point.
<DT>-c<DD>

ccache
<P>
Location for krb5 credentials cache. This can be a path, e.g. /tmp/krb5cc100 or preceded by 'METHOD:', as in FILE:/tmp/krb5cc100 or KCM:100. This is optional and if not selected will yield to the default kerberos context.
<DT>-U<DD>

user
<P>
Name (uid attribute) of the user you wish to modify Required. 
<DT>-G <DD>

group 
<P>
Name (cn attribute) of the group to move this user to if a primary group change is desired. This must be the only attribute argument given if this modification is desired.
<DT>-f <DD>

givenName
<P>
First name of user.  Modifies the givenName attribute of the POSIX user account. Will change gecos attribute.
<DT>-l<DD>

sn
<P>
Last name (surname) of user.  Modifies the sn attribute of the POSIX user account. Will change gecos attribute. 
<DT>-S<DD>

loginShell
<P>
Default shell for user. Modifies the loginShell attr of the POSIX user account.
<DT>-X<DD>

homeDirectory
<P>
Default home directory for user.  Modifies the homeDirectory attr of the POSIX user account.
<DT>-N<DD>

uidNumber
<P>
UID number for the user. Modifies the uidNumber attribute of the POSIX user account.
<DT>-y<DD>
<P>
With GSSAPI enabled, this will set an 8 character random string into the krb5Key (password) attribute of the user account.  This operation requires a ticket from the kadmin/changepw kerberos principal. This will obtain the ticket from that principal and place it into a cache located in /tmp/kacache_%uid (the user id) if used in combination with the -P option.  Further calls can be made for the lifetime of the ticket (5 minutes) using the -m gssapi option without a password.
<DT>-v|--version<DD>
<P>
Shows the version info and exits.
<DT>-h|--help<DD>
<P>
Shows verbose output of options and exits.
<DT>-d<DD>
<P>
Shows some debugging output from the command.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>GECOS MODIFICATION</H2>

If givenName of sn are modified, or the group changed, the gecos 

will be modified. 
The gecos attribute val is built by concatenating the sn, givenName and description (from primary group) attributes like so:
<P>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;sn,givenName;description
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
<BR>&nbsp;&nbsp;&nbsp;&nbsp;Luser,Larry;Slackas&nbsp;Winner&nbsp;Crew
<BR>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>&nbsp;&nbsp;&nbsp;&nbsp;would&nbsp;be&nbsp;a&nbsp;typical&nbsp;gecos.
<P>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;will&nbsp;be&nbsp;changed&nbsp;in&nbsp;a&nbsp;future&nbsp;release,&nbsp;allowing&nbsp;for&nbsp;any
<BR>&nbsp;&nbsp;&nbsp;&nbsp;gecos&nbsp;you&nbsp;want.&nbsp;It&nbsp;was&nbsp;just&nbsp;done&nbsp;this&nbsp;way&nbsp;for&nbsp;brevity.
<P>
AUTHOR
<BR>&nbsp;&nbsp;&nbsp;&nbsp;Michael&nbsp;Brown&nbsp;&lt;<A HREF="mailto:mikal@mikro-net.com">mikal@mikro-net.com</A>&gt;&gt;
<P>
<P>
<P>
uxdstools-0.4       January 28, 2008         <A HREF="/cgi-bin/man/man2html?1+lusermod">lusermod</A>(1)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">GECOS MODIFICATION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 10:48:01 GMT, February 13, 2008
</BODY>
</HTML>
